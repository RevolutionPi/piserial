piserial (3.1.0-1+revpi12+1) bookworm; urgency=medium

  [ Philipp Rosenberger ]
  * Update /debian for Bookworm

  [ Nicolai Buchwitz ]
  * ci: Add pipeline for package build

  [ Philipp Rosenberger ]
  * chore: Make repository REUSE compliant
  * chore: Use CMake project version as PISERIAL_VERSION
  *  chore: Remove C++ dependency from project
  * chore: Use GNUInstallDirs cmake-module to define install location
  * feat: Load i2c-dev through /etc/modules-load.d
  * fix: Fix tpm2.h include guard, and use #pragma once for all headers
  * fix: Fix warning: variable 'ret' is used uninitialized
  * fix: Warning: comparison of integers of different signs
  * fix: Fix typo in an error message specifiy => specify
  * chore: Update copyright date in the SPDX headers
  * Relase piserial 3.1.0

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Fri, 18 Aug 2023 15:54:56 +0200

piserial (3.0.1-1+revpi11+1) bullseye; urgency=medium

  [ Philipp Rosenberger ]
  * Update SPDX license headers

  [ Nicolai Buchwitz ]
  * Fix typo in warn message
  * Update copyright year

  [ Lukas Wunner ]
  * Prefer TPM whenever it's available

  [ Sven Sager ]
  * Set upstream-branch value in gbp.conf to master

 -- Sven Sager <s.sager@kunbus.com>  Fri, 14 Apr 2023 14:15:31 +0200

piserial (3.0.0-1+revpi11+1) bullseye; urgency=medium

  * Remove breaks on revpi-tools as it breaks the upgrade path

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Tue, 06 Dec 2022 11:11:07 +0100

piserial (3.0.0-1) buster; urgency=medium

  [ Zhi Han ]
  * Add golden image for EEPROM of LAN9514
  * Add script to write golden image and MAC to EEPROM

  [ Holger Jorra ]
  * Adapted factory reset to CM1 overlay
  * Fix comparison between string and number

  [ Philipp Rosenberger ]
  * Remove unquoting quotes from usage string
  * Remove usless $() and 3>&1 1>&2 2>&3 from whiptail call
  * Update the year in the copyright header

  [ Zhi Han ]
  * Fix the company name in Copyright field
  * Move setting of hdmi-disable out of 'if $deviceeth1...' clause
  * Remove compatibility checks for older setups
  * Ajust factory reset for devices with HAT EEPROM

  [ Nicolai ]
  * Fix working dir for lan9514 target

  [ Nicolai Buchwitz ]
  * Add dependency to xxd

  [ Zhi Han ]
  * Remove enabling and starting of hdmi-disable.service
  * Transfer systemd files to revpi-tools
  * Transfer ks8851 tools to revpi-tools
  * Transfer factory-reset tools to revpi-tools
  * Transfer lan95xx tools to revpi-tools

  [ Philipp Rosenberger ]
  * Bump version to 3.0.0
  * Remove deps of tools moved to revpi-tools repo
  * Make the piserial break revpi-tools <= 1.0.16-1
  * This package doesn't require root to build
  * Add Vcs-* meta data to the control file
  * Add valid license to copyright file: GPL-2

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Thu, 01 Dec 2022 11:09:11 +0100

piserial (2.1.1-1) buster; urgency=medium

  [ Ramiro Gsponer ]
  * Factory Reset: Text menu changed

  [ Zhi Han ]
  * Remove Core SE from factory reset

  [ Ramiro Gsponer ]
  * Bump version to 2.1.1

 -- Ramiro Gsponer <r.gsponer@kunbus.com>  Mon, 18 Jul 2022 14:05:35 +0200

piserial (2.1.0-1) buster; urgency=medium

  * Refactory: Use variables to hold device type list
  * Refactory: Use whiptail to interact with User
  * Add device type Core SE
  * Add device type Connect SE
  * Make the factory resetting progress can be cancelled
  * Remove the setting of mac during factory reset
  * Bump version to 2.1.0

 -- Zhi Han <z.han@kunbus.com>  Tue, 19 Apr 2022 15:25:14 +0200

piserial (2.0.2-2) buster; urgency=medium

  * Replace depend of net-tools with iproute2

 -- Zhi Han <z.han@kunbus.com>  Tue, 01 Mar 2022 11:08:59 +0100

piserial (2.0.2-1) buster; urgency=medium

  * Replace command ifconfig with ip
  * Bump version to 2.0.2

 -- Zhi Han <z.han@kunbus.com>  Mon, 28 Feb 2022 15:19:47 +0100

piserial (2.0.1-2) buster; urgency=medium

  * Update gbp.conf

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Tue, 30 Nov 2021 11:34:15 +0100

piserial (2.0.1-1) buster; urgency=medium

  [ Frank Pavlic ]
  * add GPL-2.0 license to piserial
  * Remove README.md from repository

  [ Romain LÃ©tendart ]
  * revpi-factory-reset: Follow symlinks with sed

  [ Philipp Rosenberger ]
  * revpi-factory-reset: Remove MAC addr handling for wlan on Flat
  * Bump version to 2.0.1

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Mon, 29 Nov 2021 15:59:46 +0100

piserial (2.0.0-1) buster; urgency=medium

  [ Lino Sanfilippo ]
  * factory-reset: Fix wrong mac address configuration
  * factory-reset:flat: Setup MAC address for wireless network interface
  * systemd: add service to disable hdmi at bootup
  * factory-reset:flat: Disable HDMI display

  [ Philipp Rosenberger ]
  * debian/gbp.conf: define raspios/buster as default branch

  [ Lino Sanfilippo ]
  * Set initial piserial version to 2.0.0

 -- Lino Sanfilippo <l.sanfilippo@kunbus.com>  Tue, 09 Mar 2021 13:22:51 +0100

piserial (2.0.0~alpha2-1) buster; urgency=medium

  * This is a complete rewrite of piserial
  * Add TPM support
  * Add locking to support concurrent call af revpi-piserial
  * Remove hostname from piserial
  * revpi-factory-reset: Use parted instead of sfdisk.

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Fri, 26 Feb 2021 12:10:48 +0100

piserial (1.4.6~0flat2) stable; urgency=medium

  * change the default crypto chip as tpm

 -- Lino Sanfilippo <l.sanfilippo@kunbus.com>  Mon, 02 Nov 2020 10:49:26 +0100

piserial (1.4.6~0flat1) stable; urgency=medium

  * Add TPM support.
  * Add RevolutionPi Flat support.
  * Refactor argument handling.

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Tue, 20 Oct 2020 16:55:40 +0200

piserial (1.4.5) stable; urgency=medium

  * Remove unused/wrong build dependency.

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Thu, 08 Oct 2020 11:35:29 +0200

piserial (1.4.4) stable; urgency=medium

  * Switch to Debian native package format.
  * Source tree cleanup.
  * Switch to CMake as build tool.
  * Update debianization.
  * Use debhelper version 10 (stretch).
  * Fix out of bound access to array.

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Wed, 07 Oct 2020 15:43:07 +0200

piserial (1.4.3-1) stable; urgency=medium

  * Before adding the appropriate dtoverlay to /boot/config.txt,
    remove extant dtoverlay entries for *any* RevPi product,
    not just the one of this particular machine.  Otherwise we
    could get into a situation where entries for multiple products
    exist.  Reported by Lace:
    https://revolution.kunbus.de/forum/viewtopic.php?f=8&t=1130

 -- Kunbus <admin@kunbus.de>  Thu, 02 May 2019 12:00:00 +0200

piserial (1.4.2-1) stable; urgency=medium

  * Amend revpi-factory-reset to resize root partition on CM3+ such that
    the eMMC is used to its full extent.

 -- Kunbus <admin@kunbus.de>  Wed, 06 Feb 2019 12:45:00 +0100

piserial (1.4.1-1) stable; urgency=medium

  * Reinstate compatibility with kunbus.dtbo shipped with 4.4 kernels
    by writing the MAC address to cmdline.txt instead of config.txt.

 -- Kunbus <admin@kunbus.de>  Mon, 09 Apr 2018 10:45:00 +0200

piserial (1.4.0-2) stable; urgency=medium

  * strip binary

 -- Kunbus <admin@kunbus.de>  Tue, 06 Mar 2018 08:45:00 +0100

piserial (1.4.0-1) stable; urgency=medium

  * Use another algorithm to generate the hostname.

 -- Kunbus <admin@kunbus.de>  Fri, 02 Mar 2018 15:45:00 +0100

piserial (1.3.1-1) stable; urgency=medium

  * Amend revpi-factory-reset to no longer write the domainname
    generated from the serial number to /etc/hosts because the
    default password may be gleaned from it.  Reported by Wulf,
    thanks!

 -- Kunbus <admin@kunbus.de>  Mon, 19 Feb 2018 15:45:00 +0100

piserial (1.3.0-1) stable; urgency=medium

  * Support separate device tree overlay for each member of the RevPi family

 -- Kunbus <admin@kunbus.de>  Thu, 30 Nov 2017 12:15:00 +0100

piserial (1.2.1-1) stable; urgency=medium

  * Fix line endings in revpi-factory-reset.sh

 -- Kunbus <admin@kunbus.de>  Thu, 21 Sep 2017 09:00:00 +0200

piserial (1.2.0-1) stable; urgency=medium

  * Add helper to set non-volatile MAC address of KS8851 Ethernet chip

 -- Kunbus <admin@kunbus.de>  Thu, 14 Sep 2017 17:00:00 +0200

piserial (1.1.0-1) stable; urgency=medium

  * Generate /etc/machine-id from serial number

 -- Kunbus <admin@kunbus.de>  Thu, 10 Aug 2017 13:30:00 +0200

piserial (1.0.0-1) stable; urgency=medium

  * Initial release

 -- Kunbus <admin@kunbus.de>  Mon, 30 Jan 2017 16:00:00 +0100
