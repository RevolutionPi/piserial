piserial (2.0.0~alpha2-1) UNRELEASED; urgency=medium

  * This is a complete rewrite of piserial
  * Add TPM support
  * Add locking to support concurrent call af revpi-piserial
  * Remove hostname from piserial
  * revpi-factory-reset: Use parted instead of sfdisk.

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Fri, 26 Feb 2021 10:52:14 +0100

piserial (1.4.6~0flat2) stable; urgency=medium

  * change the default crypto chip as tpm

 -- Lino Sanfilippo <l.sanfilippo@kunbus.com>  Mon, 02 Nov 2020 10:49:26 +0100

piserial (1.4.6~0flat1) stable; urgency=medium

  * Add TPM support.
  * Add RevolutionPi Flat support.
  * Refactor argument handling.

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Tue, 20 Oct 2020 16:55:40 +0200

piserial (1.4.5) stable; urgency=medium

  * Remove unused/wrong build dependency.

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Thu, 08 Oct 2020 11:35:29 +0200

piserial (1.4.4) stable; urgency=medium

  * Switch to Debian native package format.
  * Source tree cleanup.
  * Switch to CMake as build tool.
  * Update debianization.
  * Use debhelper version 10 (stretch).
  * Fix out of bound access to array.

 -- Philipp Rosenberger <p.rosenberger@kunbus.com>  Wed, 07 Oct 2020 15:43:07 +0200

piserial (1.4.3-1) stable; urgency=medium

  * Before adding the appropriate dtoverlay to /boot/config.txt,
    remove extant dtoverlay entries for *any* RevPi product,
    not just the one of this particular machine.  Otherwise we
    could get into a situation where entries for multiple products
    exist.  Reported by Lace:
    https://revolution.kunbus.de/forum/viewtopic.php?f=8&t=1130

 -- Kunbus <admin@kunbus.de>  Thu, 02 May 2019 12:00:00 +0200

piserial (1.4.2-1) stable; urgency=medium

  * Amend revpi-factory-reset to resize root partition on CM3+ such that
    the eMMC is used to its full extent.

 -- Kunbus <admin@kunbus.de>  Wed, 06 Feb 2019 12:45:00 +0100

piserial (1.4.1-1) stable; urgency=medium

  * Reinstate compatibility with kunbus.dtbo shipped with 4.4 kernels
    by writing the MAC address to cmdline.txt instead of config.txt.

 -- Kunbus <admin@kunbus.de>  Mon, 09 Apr 2018 10:45:00 +0200

piserial (1.4.0-2) stable; urgency=medium

  * strip binary

 -- Kunbus <admin@kunbus.de>  Tue, 06 Mar 2018 08:45:00 +0100

piserial (1.4.0-1) stable; urgency=medium

  * Use another algorithm to generate the hostname.

 -- Kunbus <admin@kunbus.de>  Fri, 02 Mar 2018 15:45:00 +0100

piserial (1.3.1-1) stable; urgency=medium

  * Amend revpi-factory-reset to no longer write the domainname
    generated from the serial number to /etc/hosts because the
    default password may be gleaned from it.  Reported by Wulf,
    thanks!

 -- Kunbus <admin@kunbus.de>  Mon, 19 Feb 2018 15:45:00 +0100

piserial (1.3.0-1) stable; urgency=medium

  * Support separate device tree overlay for each member of the RevPi family

 -- Kunbus <admin@kunbus.de>  Thu, 30 Nov 2017 12:15:00 +0100

piserial (1.2.1-1) stable; urgency=medium

  * Fix line endings in revpi-factory-reset.sh

 -- Kunbus <admin@kunbus.de>  Thu, 21 Sep 2017 09:00:00 +0200

piserial (1.2.0-1) stable; urgency=medium

  * Add helper to set non-volatile MAC address of KS8851 Ethernet chip

 -- Kunbus <admin@kunbus.de>  Thu, 14 Sep 2017 17:00:00 +0200

piserial (1.1.0-1) stable; urgency=medium

  * Generate /etc/machine-id from serial number

 -- Kunbus <admin@kunbus.de>  Thu, 10 Aug 2017 13:30:00 +0200

piserial (1.0.0-1) stable; urgency=medium

  * Initial release

 -- Kunbus <admin@kunbus.de>  Mon, 30 Jan 2017 16:00:00 +0100
